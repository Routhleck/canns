实验数据分析
============

场景描述
--------

CANNs 提供了专门的工具来分析真实的神经记录数据，特别是 CANN bump 活动的拟合和可视化。本系列教程将教你：

- 如何从实验数据中提取 bump 参数
- 一维和二维 bump 拟合方法
- 数据预处理和质量控制
- 动画可视化 bump 演化

你将学到
--------

1. 实验数据的加载和预处理
2. 一维 bump 拟合算法
3. 二维 bump 拟合和参数估计
4. 时间序列数据的处理
5. 结果的可视化和动画生成

教程列表
--------

.. toctree::
   :maxdepth: 1

   bump_fitting_1d
   bump_fitting_2d

适用人群
--------

- 分析钙成像数据的神经科学家
- 处理电生理记录的研究人员
- 需要拟合神经活动模式的学生

前置知识
--------

- 基本的信号处理知识
- 神经记录方法（钙成像、电生理等）
- Python 数据分析库（NumPy、SciPy）

分析流程
--------

**典型的数据分析流程**：

1. **数据加载**

   - 导入 ROI 活动数据
   - 检查数据格式和完整性

2. **预处理**

   - 去噪和滤波
   - 基线校正
   - 归一化

3. **Bump 拟合**

   - 参数初始化
   - 优化算法选择
   - 拟合质量评估

4. **结果可视化**

   - 静态图表
   - 动画生成
   - 统计分析

支持的数据格式
--------------

- **钙成像数据**：ROI 时间序列
- **电生理数据**：多通道记录
- **群体编码**：神经元集群活动

关键功能
--------

``bump_fits()`` 函数
~~~~~~~~~~~~~~~~~~~~

核心的 bump 拟合函数，支持：

- 自动检测 bump 数量
- 多 bump 拟合
- 参数不确定性估计

``create_1d_bump_animation()`` 函数
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

生成 bump 演化的动画：

- 支持 GIF 和 MP4 格式
- 可自定义帧率和分辨率
- 进度条显示

``CANN1DPlotConfig`` 配置类
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

统一的绘图配置：

.. code-block:: python

   config = CANN1DPlotConfig.for_bump_animation(
       show=False,
       save_path="bump_analysis.gif",
       nframes=100,
       fps=10
   )

实际应用案例
------------

- **工作记忆实验**：分析延迟期间的 bump 维持
- **空间导航**：追踪位置编码的 bump 移动
- **注意力研究**：观察注意调制对 bump 的影响
- **发展研究**：对比不同发育阶段的 bump 特性

开始学习
--------

从 :doc:`bump_fitting_1d` 开始，学习如何分析你的实验数据！
